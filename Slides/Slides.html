<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Danish Church records</title>
    <meta charset="utf-8" />
    <meta name="author" content="Christian Vedel  Email: christian-vs@sam.sdu.dk  Twitter: @ChristianVedel&lt;br&gt;   .small123[github.com/christianvedels/Danish-Church-Records]" />
    <script src="libs/header-attrs-2.21/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <script src="libs/xaringanExtra-progressBar-0.0.1/progress-bar.js"></script>
    <script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
    <link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding-0.28/datatables.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
    <link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
    <script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
    <link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
    <script src="libs/selectize-0.12.0/selectize.min.js"></script>
    <link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Danish Church records
]
.author[
### Christian Vedel<br> Email: <a href="mailto:christian-vs@sam.sdu.dk" class="email">christian-vs@sam.sdu.dk</a><br> Twitter: <span class="citation">@ChristianVedel&lt;br</span>&gt;<br><br> .small123[<em><a href="https://github.com/christianvedels/Danish-Church-Records">github.com/christianvedels/Danish-Church-Records</a></em>]
]
.date[
### Updated 2023-11-17
]

---








<div>
<style type="text/css">.xaringan-extra-logo {
width: 55px;
height: 128px;
z-index: 0;
background-image: url(Logos.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:1em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('div')
          logo.classList = 'xaringan-extra-logo'
          logo.href = null
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>

<style>.xe__progress-bar__container {
  top:0;
  opacity: 1;
  position:absolute;
  right:0;
  left: 0;
}
.xe__progress-bar {
  height: 0.25em;
  background-color: #808080;
  width: calc(var(--slide-current) / var(--slide-total) * 100%);
}
.remark-visible .xe__progress-bar {
  animation: xe__progress-bar__wipe 200ms forwards;
  animation-timing-function: cubic-bezier(.86,0,.07,1);
}
@keyframes xe__progress-bar__wipe {
  0% { width: calc(var(--slide-previous) / var(--slide-total) * 100%); }
  100% { width: calc(var(--slide-current) / var(--slide-total) * 100%); }
}</style>

&lt;style type="text/css"&gt;
.pull-left {
  float: left;
  width: 48%;
}
.pull-right {
  float: right;
  width: 48%;
}
.pull-right ~ p {
  clear: both;
}


.pull-left-wide {
  float: left;
  width: 66%;
}
.pull-right-wide {
  float: right;
  width: 66%;
}
.pull-right-wide ~ p {
  clear: both;
}

.pull-left-narrow {
  float: left;
  width: 30%;
}
.pull-right-narrow {
  float: right;
  width: 30%;
}

.small123 {
  font-size: 0.80em;
}

.large123 {
  font-size: 2em;
}

.huge123 {
  font-size: 4em;
}

.highlight {
  background-color: yellow;
}


img {
    transition:transform 0.25s ease;
}

img:hover {
    -webkit-transform:scale(1.5); /* or some other value */
    transform:scale(1.5);
}

&lt;/style&gt;


# 'What to do with lots of data'

.pull-left[
## Introduction
- 22 mil. observations from church books
- Can we use it for something (yes).
- What can we use it for?

## Today
- Mostly descriptive statistics
- Based on 'toysample' of 100k observations 
- Some data problems but also opportunities 
]

.pull-right[
![1866Book](Figures/OdenseGraabroedreHospitalsSogn_1866.jpg)
*Church book 1866 from Gråbrødre Hospitals Sogn*

]



---
.pull-left[
### Basic data info
- Transcription done by *Ancestry*
- Years **1813-1917**
- Covers baptism, confirmation, marriages, burials, arrivals and departures 
- Made available to us via Link lives 

### Historical background (1/2)*
- Church books is a tradition dating back to the late 16th century
- **1645-46**: Church book kept by law
  + Religious and administrative purposes 
- **1736:** Confirmation added 
- **1812:** Standardisation and *arrival* and *departure* added 
]

.footnote[
.small123[\*Stenbæk (2023) https://denstoredanske.lex.dk/kirkeb%C3%B8ger]
]

--

.pull-right[
### Historical background (2/2)*
- **Two books kept:** Main book and 'counter' book (Ministerialbog og kontraministerial bog)
- Both kept to ensure data quality and that archives were not lost 
- Acted as central database of citisens 
- Still does to some extend 

.center[
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Henning_Toft_Bro3_%28crop%29.jpg/381px-Henning_Toft_Bro3_%28crop%29.jpg?20120208065610" width="200px" /&gt;
  
.small123[*Danish priest - they've got your data! (wikimedia.org)*]
]

]







---
# Data comes in one big file
.pull-left-narrow[
- It follows some internal standard format at *Ancestry*
- *Wide* format
- Will cause us trouble
]

.pull-right-wide[
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ef652adce7315eac034e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ef652adce7315eac034e">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165"],["ImageFileName","ImageFolder","unique_identifier","SequenceNumber","SourceCollectionID","SourceDescription","SourceReferenceNumber","SourceComments","SourceYearRange","BrowseLevel","BrowseLevel1","BrowseLevel2","KeyedParish","Notes","NamePrefix","GivenName","Surname","NameSuffix","GivenNameAlias","SurnameAlias","MaidenName","Gender","BirthDay","BirthMonth","BirthYear","BirthPlace","BirthParish","BirthMunicipality","BirthState","BaptismAge","BaptismDay","BaptismMonth","BaptismYear","BaptismPlace","BaptismParish","BaptismMunicipality","BaptismCounty","BaptismState","BaptismCountry","ConfirmationDay","ConfirmationMonth","ConfirmationYear","ConfirmationPlace","ConfirmationParish","ConfirmationMunicipality","ConfirmationCounty","ConfirmationState","ConfirmationCountry","ArrivalDay","ArrivalMonth","ArrivalYear","ArrivalAge","ArrivalPlace","DeparturePlace","ArrivalParish","ArrivalMunicipality","ArrivalCounty","ArrivalState","ArrivalCountry","DepartureDay","DepartureMonth","DepartureYear","DepartureAge","DepartureParish","DepartureMunicipality","DepartureCounty","DepartureState","DepartureCountry","MarriageDay","MarriageMonth","MarriageYear","MarriageAge","MarriagePlace","MarriageParish","MarriageMunicipality","MarriageCounty","MarriageState","MarriageCountry","DeathDay","DeathMonth","DeathYear","DeathAge","DeathPlace","DeathParish","DeathMunicipality","DeathState","BurialDay","BurialMonth","BurialYear","BurialAge","BurialPlace","BurialParish","BurialMunicipality","BurialCounty","BurialState","BurialCountry","ResidenceAge","ResidenceParish","ResidenceMunicipality","ResidenceCounty","ReligiousDay","ReligiousMonth","ReligiousYear","ReligiousAge","ReligiousParish","ReligiousMunicipality","ReligiousState","VitalDay","VitalMonth","VitalYear","VitalAge","VitalPlace","VitalParish","VitalMunicipality","VitalState","VitalCountry","VitalCounty","VitalTownship","ArrivalCity","BaptismCity","BirthCountry","BurialCity","ConfirmationAge","ConfirmationCity","DepartureCity","MarriageCity","VitalCity","FatherGivenName","FatherSurname","FatherNameSuffix","FatherGivenNameAlias","FatherSurnameAlias","MotherNamePrefix","MotherGivenName","MotherSurname","MotherNameSuffix","MotherMaidenName","MotherGivenNameAlias","MotherSurnameAlias","MotherResidenceAge","SpouseNamePrefix","SpouseGivenName","SpouseSurname","SpouseNameSuffix","SpouseMaidenName","SpouseGivenNameAlias","SpouseSurnameAlias","SpouseGender","SpouseMarriageAge","SpouseBirthDay","SpouseBirthMonth","SpouseBirthYear","SpouseBirthPlace","FatherInLawGivenName","FatherInLawSurname","FatherInLawNameSuffix","FatherInLawGivenNameAlias","FatherInLawSurnameAlias","MotherInLawNamePrefix","MotherInLawGivenName","MotherInLawSurname","MotherInLawNameSuffix","MotherInLawMaidenName","MotherInLawGivenNameAlias","MotherInLawSurnameAlias"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable.names<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":6,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[6,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
]




---
# Data problems
- Sometimes a range of years is provided: "1862-1864"
- Sometimes the *county* is written in the *state* column


---
# Basic stats

.pull-left[
- 22.8 mil observations
- Baptism, burial, etc. (see on the right)
- Additionally 5.5% unidentified observations
]



.pull-right[
.center[
### Distribution
]

|event        |pct    |
|:------------|:------|
|Baptism      |25.6%  |
|Burial       |16.07% |
|Death        |15.98% |
|Confirmation |14.33% |
|Departure    |11.01% |
|Arrival      |10.89% |
|Marriage     |6.12%  |
]




---
.pull-left-narrow[
# Event ages
- Arrival and Departure alines
- No age for confirmations
- A lot of missing values
- Good stats for arrival and departures
- Some of the missing values might be due to ranges "1856-1861"
]

.pull-right-wide[
.small123[
.panelset[
.panel[.panel-name[All panes]
![Event_ages](Figures/Event_ages.png)
]
.panel[.panel-name[Arrival]
![Event_ages](Figures/Event_ages_Arrival.png)
]
.panel[.panel-name[Baptism]
![Event_ages](Figures/Event_ages_Baptism.png)
]
.panel[.panel-name[Burial]
![Event_ages](Figures/Event_ages_Baptism.png)
]
.panel[.panel-name[Death]
![Event_ages](Figures/Event_ages_Death.png)
]
.panel[.panel-name[Departure]
![Event_ages](Figures/Event_ages_Departure.png)
]
.panel[.panel-name[Marriage]
![Event_ages](Figures/Event_ages_Marriage.png)
]

]
]
]

---
.pull-left-narrow[
# Years
- 0.4% EventYear NA 'by coercion'

]

.pull-right-wide[
.small123[
.panelset[
.panel[.panel-name[All]
![Event_ages](Figures/Data_availability_years.png)
]
.panel[.panel-name[Arrival]
![Event_ages](Figures/Event_years_Arrival.png)
]
.panel[.panel-name[Baptism]
![Event_ages](Figures/Event_years_Baptism.png)
]
.panel[.panel-name[Burial]
![Event_ages](Figures/Event_years_Burial.png)
]
.panel[.panel-name[Death]
![Event_ages](Figures/Event_years_Death.png)
]
.panel[.panel-name[Departure]
![Event_ages](Figures/Event_years_Departure.png)
]
.panel[.panel-name[Marriage]
![Event_ages](Figures/Event_years_Marriage.png)
]

]
]
]

---
# Birth years
.pull-left[
- We do have birth years in many cases
]

.pull-right[
![Birth years](Figures/Birth_years.png)
]

---
# Crude child mortality
.pull-left[
- Confirmation at 14 
- Lag of Baptism and confirmation
]

.pull-right[
![Crude_child_mortality](Figures/Crude_child_mortality.png)
]


---
# Geography
.pull-left[
- 2982 parishes (spelling mistakes, changing borders etc.)
- Mix-up between 'county' and 'state' variables
- Some migration from abroad 
- Automatic geo coding failed

]

---
# References
Stenbæk, Jørgen (2023). Kirkebøger i Den Store Danske på lex.dk. https://denstoredanske.lex.dk/kirkeb%C3%B8ger


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
